<?php
require_once 'inc/config.php';

$defaultLang = Config::$default['lang_default'] ?? 'de';
$lang = strtolower($_POST['lang'] ?? $_GET['lang'] ?? $defaultLang);
if (!in_array($lang, ['de','en','fr','it'])) $lang = $defaultLang;

// Translations
$T = [
    'de' => [
        'link_not_found' => "âŒ Link nicht gefunden oder bereits benutzt.",
        'file_missing' => "âŒ Datei nicht mehr vorhanden.",
        'password_required' => "ðŸ” Passwort erforderlich",
        'enter_password' => "Passwort eingeben",
        'start_download' => "ðŸ“¥ Download starten",
        'no_file_selected' => "âŒ Keine Datei ausgewÃ¤hlt.",
        'upload_error' => "âŒ Fehler beim Hochladen der Datei.",
        'upload_text' => "â¬†ï¸ Hochladen",
        'upload_success' => "âœ… Hochladen erfolgreich",
        'creating_zip' => "â³ ZIP wird erstellt...",
        'temp_dir_error' => "âŒ Konnte temporÃ¤res Verzeichnis nicht anlegen.",
        'error_upload_file' => "âŒ Fehler beim Hochladen der Datei ",
        'wrong_password' => "âŒ Falsches Passwort",
        'your_link' => "Dein Link:",
        'copy' => "ðŸ“‹ Kopieren",
        'copied' => "âœ… Kopiert!",
        'share_files' => "ðŸ“¤ Dateien teilen",
        'drag_files' => "ðŸ“‚ Dateien hierher ziehen oder klicken",
        'password_optional' => "ðŸ” Passwort (optional)",
        'valid_once' => "â³ Nur 1Ã— herunterladbar",
        'valid_1h' => "ðŸ• 1 Stunde gÃ¼ltig",
        'valid_3h' => "ðŸ•’ 3 Stunden gÃ¼ltig",
        'valid_6h' => "ðŸ•• 6 Stunden gÃ¼ltig",
        'valid_12h' => "ðŸ•› 12 Stunden gÃ¼ltig",
        'valid_1d' => "ðŸ“… 1 Tag gÃ¼ltig",
        'valid_3d' => "ðŸ“… 3 Tage gÃ¼ltig",
        'valid_7d' => "ðŸ“… 7 Tage gÃ¼ltig",
        'valid_14d' => "ðŸ“… 14 Tage gÃ¼ltig",
        'valid_30d' => "ðŸ“… 30 Tage gÃ¼ltig",
        'valid_forever' => "ðŸ“… Unbegrenzt gÃ¼ltig",
        'upload_button' => "ðŸ“¤ Hochladen & Link erstellen",
        'upload_button_onlyupload' => "ðŸ“¤ Hochladen",
        'selected_files' => "AusgewÃ¤hlte Datei",
        'selected_files_plural' => "AusgewÃ¤hlte Dateien",
        'language' => "Sprache",
        'title' => "Dropzone File Sharing",
        'version' => "V.1.5",
        'footer_text' => "Â© 2025 von Kevin Tobler - <a href='https://kevintobler.ch' target='_blank'>www.kevintobler.ch</a>",
    ],
    'en' => [
        'link_not_found' => "âŒ Link not found or already used.",
        'file_missing' => "âŒ File no longer available.",
        'password_required' => "ðŸ” Password required",
        'enter_password' => "Enter password",
        'start_download' => "ðŸ“¥ Start download",
        'no_file_selected' => "âŒ No file selected.",
        'upload_error' => "âŒ Error uploading the file.",
        'upload_text' => "â¬†ï¸ Upload",
        'upload_success' => "âœ… Upload finished",
        'creating_zip' => "â³ Creating ZIP...",
        'temp_dir_error' => "âŒ Could not create temporary directory.",
        'error_upload_file' => "âŒ Error uploading file ",
        'wrong_password' => "âŒ Incorrect password",
        'your_link' => "Your link:",
        'copy' => "ðŸ“‹ Copy",
        'copied' => "âœ… Copied!",
        'share_files' => "ðŸ“¤ Share files",
        'drag_files' => "ðŸ“‚ Drag files here or click",
        'password_optional' => "ðŸ” Password (optional)",
        'valid_once' => "â³ Downloadable only 1x",
        'valid_1h' => "ðŸ• Valid for 1 hour",
        'valid_3h' => "ðŸ•’ Valid for 3 hours",
        'valid_6h' => "ðŸ•• Valid for 6 hours",
        'valid_12h' => "ðŸ•› Valid for 12 hours",
        'valid_1d' => "ðŸ“… Valid for 1 day",
        'valid_3d' => "ðŸ“… Valid for 3 days",
        'valid_7d' => "ðŸ“… Valid for 7 days",
        'valid_14d' => "ðŸ“… Valid for 14 days",
        'valid_30d' => "ðŸ“… Valid for 30 days",
        'valid_forever' => "ðŸ“… Valid forever",
        'upload_button' => "ðŸ“¤ Upload & create link",
        'upload_button_onlyupload' => "ðŸ“¤ Upload",
        'selected_files' => "Selected file",
        'selected_files_plural' => "Selected files",
        'language' => "Language",
        'title' => "Dropzone File Sharing",
        'version' => "V.1.5",
        'footer_text' => "Â© 2025 by Kevin Tobler - <a href='https://kevintobler.ch' target='_blank'>www.kevintobler.ch</a>",
    ],
    'fr' => [
	'link_not_found' => "âŒ Le lien n'a pas Ã©tÃ© trouvÃ© ou il est dÃ©jÃ  utilisÃ©.",
	'file_missing' => "âŒ Le fichier n'existe pas.",
	'password_required' => "ðŸ” Un mot de passe est attendu",
	'enter_password' => "Donnez un mot de passe",
	'start_download' => "ðŸ“¥ Commencer le tÃ©lÃ©chargement",
	'no_file_selected' => "âŒ Aucun fichier de sÃ©lectionnÃ©.",
	'upload_error' => "âŒ Erreur d'envoi'.",
	'upload_text' => "â¬†ï¸ Envoi",
	'upload_success' => "âœ… Envoi terminÃ©",
	'creating_zip' => "â³ CrÃ©ation du fichier ZIP...",
	'temp_dir_error' => "âŒ Impossible de crÃ©er le rÃ©pertoire temporaire.",
	'error_upload_file' => "âŒ Erreur d'envoi de fichier ",
	'wrong_password' => "âŒ Mot de passe incorrect",
	'your_link' => "Votre lien:",
	'copy' => "ðŸ“‹ Copier",
	'copied' => "âœ… CopiÃ©!",
	'share_files' => "ðŸ“¤ Partager des fichiers",
	'drag_files' => "ðŸ“‚ DÃ©poser des fichiers ou cliquer ici",
	'password_optional' => "ðŸ” Mot de passe (optionel)",
	'valid_once' => "â³ TÃ©lÃ©chargeable seulement 1x",
	'valid_1h' => "ðŸ• Valide pour 1 heure",
	'valid_3h' => "ðŸ•’ Valide pour 3 heures",
	'valid_6h' => "ðŸ•• Valide pour 6 heures",
	'valid_12h' => "ðŸ•› Valide pour 12 heures",
	'valid_1d' => "ðŸ“… Valide pour 1 jour",
	'valid_3d' => "ðŸ“… Valide pour 3 jours",
	'valid_7d' => "ðŸ“… Valide pour 7 jours",
	'valid_14d' => "ðŸ“… Valide pour 14 jours",
	'valid_30d' => "ðŸ“… Valide pour 30 jours",
	'valid_forever' => "ðŸ“… Valide indÃ©finiment",
	'upload_button' => "ðŸ“¤ Envoyer & crÃ©er le lien",
	'upload_button_onlyupload' => "ðŸ“¤ Envoyer",
	'selected_files' => "Selectionner fichier",
	'selected_files_plural' => "Selectionner plusieurs fichiers",
	'language' => "Langage",
	'title' => "Dropzone File Sharing",
	'version' => "V.1.5",
	'footer_text' => "Â© 2025 par Kevin Tobler - <a href='https://kevintobler.ch' target='_blank'>www.kevintobler.ch</a>",
	],
	'it' => [
	'link_not_found' => "âŒ Link non trovato o giÃ  utilizzato.",
	'file_missing' => "âŒ Il file non Ã¨ piÃ¹ disponibile.",
	'password_required' => "ðŸ” Ãˆ richiesta una password",
	'enter_password' => "Inserisci la password",
	'start_download' => "ðŸ“¥ Avvia download",
	'no_file_selected' => "âŒ Nessun file selezionato.",
	'upload_error' => "âŒ Errore durante il caricamento.",
	'upload_text' => "â¬†ï¸ Carica",
	'upload_success' => "âœ… Caricamento completato",
	'creating_zip' => "â³ Creazione dell'archivio ZIP in corso...",
	'temp_dir_error' => "âŒ Impossibile creare la cartella temporanea.",
	'error_upload_file' => "âŒ Errore nel caricamento del file ",
	'wrong_password' => "âŒ Password errata",
	'your_link' => "Il tuo link:",
	'copy' => "ðŸ“‹ Copia",
	'copied' => "âœ… Copiato!",
	'share_files' => "ðŸ“¤ Condividi file",
	'drag_files' => "ðŸ“‚ Trascina i file qui o clicca",
	'password_optional' => "ðŸ” Password (opzionale)",
	'valid_once' => "â³ Scaricabile solo una volta",
	'valid_1h' => "ðŸ• Valido per 1 ora",
	'valid_3h' => "ðŸ•’ Valido per 3 ore",
	'valid_6h' => "ðŸ•• Valido per 6 ore",
	'valid_12h' => "ðŸ•› Valido per 12 ore",
	'valid_1d' => "ðŸ“… Valido per 1 giorno",
	'valid_3d' => "ðŸ“… Valido per 3 giorni",
	'valid_7d' => "ðŸ“… Valido per 7 giorni",
	'valid_14d' => "ðŸ“… Valido per 14 giorni",
	'valid_30d' => "ðŸ“… Valido per 30 giorni",
	'valid_forever' => "ðŸ“… Valido indefinitamente",
	'upload_button' => "ðŸ“¤ Carica & crea link",
	'upload_button_onlyupload' => "ðŸ“¤ Carica",
	'selected_files' => "File selezionato",
	'selected_files_plural' => "File selezionati",
	'language' => "Lingua",
	'title' => "Dropzone File Sharing",
	'version' => "V.1.5",
	'footer_text' => "Â© 2025 di Kevin Tobler - <a href='https://kevintobler.ch' target='_blank'>www.kevintobler.ch</a>",
	]
];

// Use translations
$t = $T[$lang];
