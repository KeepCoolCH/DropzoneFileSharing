<?php
// Language default 'de'
$lang = strtolower($_POST['lang'] ?? $_GET['lang'] ?? 'de');
if (!in_array($lang, ['de','en'])) $lang = 'de';

// Translations
$T = [
    'de' => [
        'link_not_found' => "âŒ Link nicht gefunden oder bereits benutzt.",
        'file_missing' => "âŒ Datei nicht mehr vorhanden.",
        'password_required' => "ðŸ” Passwort erforderlich",
        'enter_password' => "Passwort eingeben",
        'start_download' => "ðŸ“¥ Download starten",
        'no_file_selected' => "âŒ Keine Datei ausgewÃ¤hlt.",
        'upload_error' => "âŒ Fehler beim Hochladen der Datei.",
        'upload_text' => "â¬†ï¸ Hochladen",
        'upload_success' => "âœ… Hochladen erfolgreich",
        'creating_zip' => "â³ ZIP wird erstellt...",
        'temp_dir_error' => "âŒ Konnte temporÃ¤res Verzeichnis nicht anlegen.",
        'error_upload_file' => "âŒ Fehler beim Hochladen der Datei ",
        'wrong_password' => "âŒ Falsches Passwort",
        'your_link' => "Dein Link:",
        'copy' => "ðŸ“‹ Kopieren",
        'copied' => "âœ… Kopiert!",
        'share_files' => "ðŸ“¤ Dateien teilen",
        'drag_files' => "ðŸ“‚ Dateien hierher ziehen oder klicken",
        'password_optional' => "ðŸ” Passwort (optional)",
        'download_once' => "â³ Nur 1Ã— herunterladbar",
        'valid_1h' => "ðŸ• 1 Stunde gÃ¼ltig",
        'valid_3h' => "ðŸ•’ 3 Stunden gÃ¼ltig",
        'valid_6h' => "ðŸ•• 6 Stunden gÃ¼ltig",
        'valid_12h' => "ðŸ•› 12 Stunden gÃ¼ltig",
        'valid_1d' => "ðŸ“… 1 Tag gÃ¼ltig",
        'valid_3d' => "ðŸ“… 3 Tage gÃ¼ltig",
        'valid_7d' => "ðŸ“… 7 Tage gÃ¼ltig",
        'valid_14d' => "ðŸ“… 14 Tage gÃ¼ltig",
        'valid_30d' => "ðŸ“… 30 Tage gÃ¼ltig",
        'upload_button' => "ðŸ“¤ Hochladen & Link erstellen",
        'selected_files' => "AusgewÃ¤hlte Datei",
        'selected_files_plural' => "AusgewÃ¤hlte Dateien",
        'language' => "Sprache",
        'title' => "Dropzone File Sharing",
        'version' => "V.1.4",
        'footer_text' => "Â© 2025 von Kevin Tobler - <a href='https://kevintobler.ch' target='_blank'>www.kevintobler.ch</a>",
    ],
    'en' => [
        'link_not_found' => "âŒ Link not found or already used.",
        'file_missing' => "âŒ File no longer available.",
        'password_required' => "ðŸ” Password required",
        'enter_password' => "Enter password",
        'start_download' => "ðŸ“¥ Start download",
        'no_file_selected' => "âŒ No file selected.",
        'upload_error' => "âŒ Error uploading the file.",
        'upload_text' => "â¬†ï¸ Upload",
        'upload_success' => "âœ… Upload finished",
        'creating_zip' => "â³ Creating ZIP...",
        'temp_dir_error' => "âŒ Could not create temporary directory.",
        'error_upload_file' => "âŒ Error uploading file ",
        'wrong_password' => "âŒ Incorrect password",
        'your_link' => "Your link:",
        'copy' => "ðŸ“‹ Copy",
        'copied' => "âœ… Copied!",
        'share_files' => "ðŸ“¤ Share files",
        'drag_files' => "ðŸ“‚ Drag files here or click",
        'password_optional' => "ðŸ” Password (optional)",
        'download_once' => "â³ Downloadable only 1x",
        'valid_1h' => "ðŸ• Valid for 1 hour",
        'valid_3h' => "ðŸ•’ Valid for 3 hours",
        'valid_6h' => "ðŸ•• Valid for 6 hours",
        'valid_12h' => "ðŸ•› Valid for 12 hours",
        'valid_1d' => "ðŸ“… Valid for 1 day",
        'valid_3d' => "ðŸ“… Valid for 3 days",
        'valid_7d' => "ðŸ“… Valid for 7 days",
        'valid_14d' => "ðŸ“… Valid for 14 days",
        'valid_30d' => "ðŸ“… Valid for 30 days",
        'upload_button' => "ðŸ“¤ Upload & create link",
        'selected_files' => "Selected file",
        'selected_files_plural' => "Selected files",
        'language' => "Language",
        'title' => "Dropzone File Sharing",
        'version' => "V.1.4",
        'footer_text' => "Â© 2025 by Kevin Tobler - <a href='https://kevintobler.ch' target='_blank'>www.kevintobler.ch</a>",
    ]
];

// Use translations
$t = $T[$lang];

