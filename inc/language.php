<?php
require_once 'inc/config.php';

$defaultLang = Config::$default['lang_default'] ?? 'de';
$lang = strtolower($_POST['lang'] ?? $_GET['lang'] ?? $defaultLang);
if (!in_array($lang, ['de','en','fr','it'])) $lang = $defaultLang;

// Translations
$T = [
'de' => [
'link_not_found' => "âŒ Link nicht gefunden oder bereits benutzt.",
'file_missing' => "âŒ Datei nicht mehr vorhanden.",
'password_required' => "ðŸ” Passwort erforderlich",
'enter_password' => "ðŸ” Passwort eingeben",
'start_download' => "ðŸ“¥ Download starten",
'no_file_selected' => "âŒ Keine Datei ausgewÃ¤hlt.",
'upload_error' => "âŒ Fehler beim Hochladen der Datei.",
'upload_text' => "â¬†ï¸ Hochladen",
'upload_success' => "âœ… Hochladen erfolgreich",
'creating_zip' => "â³ ZIP wird erstellt...",
'temp_dir_error' => "âŒ Konnte temporÃ¤res Verzeichnis nicht anlegen.",
'error_upload_file' => "âŒ Fehler beim Hochladen der Datei ",
'wrong_password' => "âŒ Falsches Passwort",
'your_link' => "Dein Link:",
'copy' => "ðŸ“‹ Kopieren",
'copied' => "âœ… Kopiert!",
'share_files' => "ðŸ“¤ Dateien teilen",
'drag_files' => "ðŸ“‚ Dateien hierher ziehen oder klicken",
'password_optional' => "ðŸ” Passwort (optional)",
'valid_once' => "â³ Nur 1Ã— herunterladbar",
'valid_1h' => "ðŸ• 1 Stunde gÃ¼ltig",
'valid_3h' => "ðŸ•’ 3 Stunden gÃ¼ltig",
'valid_6h' => "ðŸ•• 6 Stunden gÃ¼ltig",
'valid_12h' => "ðŸ•› 12 Stunden gÃ¼ltig",
'valid_1d' => "ðŸ“… 1 Tag gÃ¼ltig",
'valid_3d' => "ðŸ“… 3 Tage gÃ¼ltig",
'valid_7d' => "ðŸ“… 7 Tage gÃ¼ltig",
'valid_14d' => "ðŸ“… 14 Tage gÃ¼ltig",
'valid_30d' => "ðŸ“… 30 Tage gÃ¼ltig",
'valid_forever' => "ðŸ“… Unbegrenzt gÃ¼ltig",
'upload_button' => "ðŸ“¤ Hochladen & Link erstellen",
'upload_button_only_upload' => "ðŸ“¤ Hochladen",
'upload_button_send_email' => "ðŸ“¤ Hochladen & E-Mail senden",
'uploading' => "ðŸ“¤ Dateien werden hochgeladen...",
'selected_files' => "AusgewÃ¤hlte Datei",
'selected_files_plural' => "AusgewÃ¤hlte Dateien",
'diskspace_error' => "âŒ Nicht genÃ¼gend Speicherplatz!",
'diskspace_check_failed' => "âš ï¸ SpeicherplatzprÃ¼fung fehlgeschlagen!",
'diskspace_required' => "BenÃ¶tigt:",
'diskspace_free' => "Frei:",
'send_email_yes' => "ðŸ“§ Per E-Mail senden",
'send_email_no' => "ðŸ”— Nur Link erstellen",
'uploader_email' => "ðŸ“¨ Deine E-Mail-Adresse (erforderlich)",
'recipient_email' => "ðŸ“¬ Alle EmpfÃ¤nger E-Mail-Adressen (erforderlich)",
'email_sent' => "âœ… E-Mail an dich gesendet, bitte verifiziere den Link.",
'sent_title_uploader' => "BestÃ¤tige deinen Upload",
'sent_message_uploader' => "<p>Hallo,</p><p>bitte bestÃ¤tige deinen Upload durch Klick auf den untenstehenden Link.</p><p>Viele GrÃ¼sse</p>",
'verification_title' => "âš ï¸ BestÃ¤tigung erforderlich",
'verification_text' => "Um den Upload zu bestÃ¤tigen, klicke bitte auf den folgenden Button:",
'verification_button' => "âœ… Upload bestÃ¤tigen",
'verification_link_error' => "âŒ UngÃ¼ltiger oder manipulierte Link.",
'verification_database_error' => "âŒ Datei-Datenbank fehlt.",
'verification_token_error' => "âŒ Upload nicht gefunden.",
'verification_email_error' => "âŒ E-Mail stimmt nicht mit Upload Ã¼berein.",
'verification_verified_error' => "âœ… Dieser Upload wurde bereits bestÃ¤tigt.",
'verification_recipient_error' => "âŒ Kein gÃ¼ltiger EmpfÃ¤nger oder Link.",
'sent_title_recipient' => "Ihr Download-Link",
'sent_message_recipient1' => "<p>Hallo,</p><p>Sie haben eine Datei von ",
'sent_message_recipient2' => "erhalten.</p><p>Sie kÃ¶nnen die Datei jetzt mit dem untenstehenden Link herunterladen.</p></p><p>Viele GrÃ¼sse</p>",
'verification_success' => "âœ… Upload bestÃ¤tigt. Die EmpfÃ¤nger wurden benachrichtigt.",
'language' => "Sprache",
'title' => "Dropzone File Sharing",
'version' => "V.2.3",
'footer_text' => "Â© 2025 von Kevin Tobler - <a href='https://kevintobler.ch' target='_blank'>www.kevintobler.ch</a>",
],
'en' => [
'link_not_found' => "âŒ Link not found or already used.",
'file_missing' => "âŒ File no longer available.",
'password_required' => "ðŸ” Password required",
'enter_password' => "ðŸ” Enter password",
'start_download' => "ðŸ“¥ Start download",
'no_file_selected' => "âŒ No file selected.",
'upload_error' => "âŒ Error uploading the file.",
'upload_text' => "â¬†ï¸ Upload",
'upload_success' => "âœ… Upload finished",
'creating_zip' => "â³ Creating ZIP...",
'temp_dir_error' => "âŒ Could not create temporary directory.",
'error_upload_file' => "âŒ Error uploading file ",
'wrong_password' => "âŒ Incorrect password",
'your_link' => "Your link:",
'copy' => "ðŸ“‹ Copy",
'copied' => "âœ… Copied!",
'share_files' => "ðŸ“¤ Share files",
'drag_files' => "ðŸ“‚ Drag files here or click",
'password_optional' => "ðŸ” Password (optional)",
'valid_once' => "â³ Downloadable only 1x",
'valid_1h' => "ðŸ• Valid for 1 hour",
'valid_3h' => "ðŸ•’ Valid for 3 hours",
'valid_6h' => "ðŸ•• Valid for 6 hours",
'valid_12h' => "ðŸ•› Valid for 12 hours",
'valid_1d' => "ðŸ“… Valid for 1 day",
'valid_3d' => "ðŸ“… Valid for 3 days",
'valid_7d' => "ðŸ“… Valid for 7 days",
'valid_14d' => "ðŸ“… Valid for 14 days",
'valid_30d' => "ðŸ“… Valid for 30 days",
'valid_forever' => "ðŸ“… Valid forever",
'upload_button' => "ðŸ“¤ Upload & create link",
'upload_button_only_upload' => "ðŸ“¤ Upload",
'upload_button_send_email' => "ðŸ“¤ Upload & send email",
'uploading' => "ðŸ“¤ Uploading files...",
'selected_files' => "Selected file",
'selected_files_plural' => "Selected files",
'diskspace_error' => "âŒ Not enough disk space!",
'diskspace_check_failed' => "âš ï¸ Disk space check failed!",
'diskspace_required' => "Required:",
'diskspace_free' => "Free:",
'send_email_yes' => "ðŸ“§ Send by email",
'send_email_no' => "ðŸ”— Create Link only",
'uploader_email' => "ðŸ“¨ Your email address (required)",
'recipient_email' => "ðŸ“¬ All recipient email addresses (required)",
'email_sent' => "âœ… An email has been sent to you. Please verify the link.",
'sent_title_uploader' => "Confirm your upload",
'sent_message_uploader' => "<p>Hello,</p><p>Please confirm your upload by clicking the link below.</p><p>Best regards</p>",
'verification_title' => "âš ï¸ Confirmation required",
'verification_text' => "To confirm the upload, please click the button below:",
'verification_button' => "âœ… Confirm upload",
'verification_link_error' => "âŒ Invalid or manipulated link.",
'verification_database_error' => "âŒ File database is missing.",
'verification_token_error' => "âŒ Upload not found.",
'verification_email_error' => "âŒ Email does not match the upload.",
'verification_verified_error' => "âœ… This upload has already been confirmed.",
'verification_recipient_error' => "âŒ Invalid recipient or download link.",
'sent_title_recipient' => "Your download link",
'sent_message_recipient1' => "<p>Hello,</p><p>You have received a file from ",
'sent_message_recipient2' => ".</p><p>You can now download the file using the link below.</p><p>Best regards</p>",
'verification_success' => "âœ… Upload confirmed. The recipients have been notified.",
'language' => "Language",
'title' => "Dropzone File Sharing",
'version' => "V.2.3",
'footer_text' => "Â© 2025 by Kevin Tobler - <a href='https://kevintobler.ch' target='_blank'>www.kevintobler.ch</a>",
],
'fr' => [
'link_not_found' => "âŒ Le lien n'a pas Ã©tÃ© trouvÃ© ou il est dÃ©jÃ  utilisÃ©.",
'file_missing' => "âŒ Le fichier n'existe pas.",
'password_required' => "ðŸ” Un mot de passe est attendu",
'enter_password' => "ðŸ” Donnez un mot de passe",
'start_download' => "ðŸ“¥ Commencer le tÃ©lÃ©chargement",
'no_file_selected' => "âŒ Aucun fichier de sÃ©lectionnÃ©.",
'upload_error' => "âŒ Erreur d'envoi'.",
'upload_text' => "â¬†ï¸ Envoi",
'upload_success' => "âœ… Envoi terminÃ©",
'creating_zip' => "â³ CrÃ©ation du fichier ZIP...",
'temp_dir_error' => "âŒ Impossible de crÃ©er le rÃ©pertoire temporaire.",
'error_upload_file' => "âŒ Erreur d'envoi de fichier ",
'wrong_password' => "âŒ Mot de passe incorrect",
'your_link' => "Votre lien:",
'copy' => "ðŸ“‹ Copier",
'copied' => "âœ… CopiÃ©!",
'share_files' => "ðŸ“¤ Partager des fichier",
'drag_files' => "ðŸ“‚ DÃ©poser des fichiers ou cliquer ici",
'password_optional' => "ðŸ” Mot de passe (optionel)",
'valid_once' => "â³ TÃ©lÃ©chargeable seulement 1x",
'valid_1h' => "ðŸ• Valide pour 1 heure",
'valid_3h' => "ðŸ•’ Valide pour 3 heures",
'valid_6h' => "ðŸ•• Valide pour 6 heures",
'valid_12h' => "ðŸ•› Valide pour 12 heures",
'valid_1d' => "ðŸ“… Valide pour 1 jour",
'valid_3d' => "ðŸ“… Valide pour 3 jours",
'valid_7d' => "ðŸ“… Valide pour 7 jours",
'valid_14d' => "ðŸ“… Valide pour 14 jours",
'valid_30d' => "ðŸ“… Valide pour 30 jours",
'valid_forever' => "ðŸ“… Valide indÃ©finiment",
'upload_button' => "ðŸ“¤ Envoyer & crÃ©er le lien",
'upload_button_only_upload' => "ðŸ“¤ Envoyer",
'upload_button_send_email' => "ðŸ“¤ Envoyer & envoyer un email",
'uploading' => "ðŸ“¤ TÃ©lÃ©chargement des fichiers...",
'selected_files' => "Selectionner fichier",
'selected_files_plural' => "Selectionner plusieurs fichiers",
'diskspace_error' => "âŒ Espace disque insuffisant!",
'diskspace_check_failed' => "âš ï¸ VÃ©rification de lâ€™espace disque Ã©chouÃ©e!",
'diskspace_required' => "NÃ©cessaire:",
'diskspace_free' => "Libre:",
'send_email_yes' => "ðŸ“§ Envoyer par email",
'send_email_no' => "ðŸ”— CrÃ©er uniquement le lien",
'uploader_email' => "ðŸ“¨ Votre adresse email (obligatoire)",
'recipient_email' => "ðŸ“¬ Toutes les adresses email des destinataires (obligatoire)",
'email_sent' => "âœ… Un email vous a Ã©tÃ© envoyÃ©. Veuillez vÃ©rifier le lien.",
'sent_title_uploader' => "Confirmez votre envoi",
'sent_message_uploader' => "<p>Bonjour,</p><p>Veuillez confirmer votre envoi en cliquant sur le lien ci-dessous.</p><p>Meilleures salutations</p>",
'verification_title' => "âš ï¸ Confirmation requise",
'verification_text' => "Pour confirmer l'envoi, veuillez cliquer sur le bouton ci-dessous:",
'verification_button' => "âœ… Confirmer l'envoi",
'verification_link_error' => "âŒ Lien invalide ou modifiÃ©.",
'verification_database_error' => "âŒ Base de donnÃ©es des fichiers manquante.",
'verification_token_error' => "âŒ Envoi introuvable.",
'verification_email_error' => "âŒ L'adresse email ne correspond pas Ã  l'envoi.",
'verification_verified_error' => "âœ… Cet envoi a dÃ©jÃ  Ã©tÃ© confirmÃ©.",
'verification_recipient_error' => "âŒ Destinataire ou lien de tÃ©lÃ©chargement invalide.",
'sent_title_recipient' => "Votre lien de tÃ©lÃ©chargement",
'sent_message_recipient1' => "<p>Bonjour,</p><p>Vous avez reÃ§u un fichier de la part de ",
'sent_message_recipient2' => ".</p><p>Vous pouvez maintenant tÃ©lÃ©charger le fichier via le lien ci-dessous.</p><p>Meilleures salutations</p>",
'verification_success' => "âœ… TÃ©lÃ©versement vÃ©rifiÃ©. Les destinataires ont Ã©tÃ© notifiÃ©s.",
'language' => "Langage",
'title' => "Dropzone File Sharing",
'version' => "V.2.3",
'footer_text' => "Â© 2025 par Kevin Tobler - <a href='https://kevintobler.ch' target='_blank'>www.kevintobler.ch</a>",
],
'it' => [
'link_not_found' => "âŒ Link non trovato o giÃ  utilizzato.",
'file_missing' => "âŒ Il file non Ã¨ piÃ¹ disponibile.",
'password_required' => "ðŸ” Ãˆ richiesta una password",
'enter_password' => "ðŸ” Inserisci la password",
'start_download' => "ðŸ“¥ Avvia download",
'no_file_selected' => "âŒ Nessun file selezionato.",
'upload_error' => "âŒ Errore durante il caricamento.",
'upload_text' => "â¬†ï¸ Carica",
'upload_success' => "âœ… Caricamento completato",
'creating_zip' => "â³ Creazione dell'archivio ZIP in corso...",
'temp_dir_error' => "âŒ Impossibile creare la cartella temporanea.",
'error_upload_file' => "âŒ Errore nel caricamento del file ",
'wrong_password' => "âŒ Password errata",
'your_link' => "Il tuo link:",
'copy' => "ðŸ“‹ Copia",
'copied' => "âœ… Copiato!",
'share_files' => "ðŸ“¤ Condividi file",
'drag_files' => "ðŸ“‚ Trascina i file qui o clicca",
'password_optional' => "ðŸ” Password (opzionale)",
'valid_once' => "â³ Scaricabile solo una volta",
'valid_1h' => "ðŸ• Valido per 1 ora",
'valid_3h' => "ðŸ•’ Valido per 3 ore",
'valid_6h' => "ðŸ•• Valido per 6 ore",
'valid_12h' => "ðŸ•› Valido per 12 ore",
'valid_1d' => "ðŸ“… Valido per 1 giorno",
'valid_3d' => "ðŸ“… Valido per 3 giorni",
'valid_7d' => "ðŸ“… Valido per 7 giorni",
'valid_14d' => "ðŸ“… Valido per 14 giorni",
'valid_30d' => "ðŸ“… Valido per 30 giorni",
'valid_forever' => "ðŸ“… Valido indefinitamente",
'upload_button' => "ðŸ“¤ Carica & crea link",
'upload_button_only_upload' => "ðŸ“¤ Carica",
'upload_button_send_email' => "ðŸ“¤ Carica & invia email",
'uploading' => "ðŸ“¤ Caricamento dei file...",
'selected_files' => "File selezionato",
'selected_files_plural' => "File selezionati",
'diskspace_error' => "âŒ Spazio su disco insufficiente!",
'diskspace_check_failed' => "âš ï¸ Controllo dello spazio su disco non riuscito!",
'diskspace_required' => "Necessario:",
'diskspace_free' => "Libero:",
'send_email_yes' => "ðŸ“§ Invia via email",
'send_email_no' => "ðŸ”— Crea solo il link",
'uploader_email' => "ðŸ“¨ Il tuo indirizzo email (obbligatorio)",
'recipient_email' => "ðŸ“¬ Tutti gli indirizzi email dei destinatari (obbligatorio)",
'email_sent' => "âœ… Ti Ã¨ stata inviata un'email. Verifica il link.",
'sent_title_uploader' => "Conferma il tuo upload",
'sent_message_uploader' => "<p>Ciao,</p><p>Conferma il tuo upload cliccando sul link sottostante.</p><p>Cordiali saluti</p>",
'verification_title' => "âš ï¸ Conferma richiesta",
'verification_text' => "Per confermare l'upload, clicca sul seguente pulsante:",
'verification_button' => "âœ… Conferma upload",
'verification_link_error' => "âŒ Link non valido o manomesso.",
'verification_database_error' => "âŒ Database dei file mancante.",
'verification_token_error' => "âŒ Upload non trovato.",
'verification_email_error' => "âŒ L'email non corrisponde all'upload.",
'verification_verified_error' => "âœ… Questo upload Ã¨ giÃ  stato confermato.",
'verification_recipient_error' => "âŒ Destinatario o link non valido.",
'sent_title_recipient' => "Il tuo link per il download",
'sent_message_recipient1' => "<p>Ciao,</p><p>Hai ricevuto un file da ",
'sent_message_recipient2' => ".</p><p>Ora puoi scaricare il file dal link sottostante.</p><p>Cordiali saluti</p>",
'verification_success' => "âœ… Caricamento verificato. I destinatari sono stati notificati.",
'language' => "Lingua",
'title' => "Dropzone File Sharing",
'version' => "V.2.3",
'footer_text' => "Â© 2025 di Kevin Tobler - <a href='https://kevintobler.ch' target='_blank'>www.kevintobler.ch</a>",
]
];

// Use translations
$t = $T[$lang];